[
    {
        "label": "json",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "json",
        "description": "json",
        "detail": "json",
        "documentation": {}
    },
    {
        "label": "os",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "os",
        "description": "os",
        "detail": "os",
        "documentation": {}
    },
    {
        "label": "shutil",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "shutil",
        "description": "shutil",
        "detail": "shutil",
        "documentation": {}
    },
    {
        "label": "log_info",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_step",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_info",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_warn",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_step",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_info",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_step",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_info",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_warn",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_error",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_step",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_info",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_step",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_warn",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_success",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_error",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_info",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_warn",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_error",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_step",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_error",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_step",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_info",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "log_success",
        "importPath": "utils.logging",
        "description": "utils.logging",
        "isExtraImport": true,
        "detail": "utils.logging",
        "documentation": {}
    },
    {
        "label": "prompt_yes_no",
        "importPath": "utils.prompts",
        "description": "utils.prompts",
        "isExtraImport": true,
        "detail": "utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_choice",
        "importPath": "utils.prompts",
        "description": "utils.prompts",
        "isExtraImport": true,
        "detail": "utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_input",
        "importPath": "utils.prompts",
        "description": "utils.prompts",
        "isExtraImport": true,
        "detail": "utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_yes_no",
        "importPath": "utils.prompts",
        "description": "utils.prompts",
        "isExtraImport": true,
        "detail": "utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_input",
        "importPath": "utils.prompts",
        "description": "utils.prompts",
        "isExtraImport": true,
        "detail": "utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_choice",
        "importPath": "utils.prompts",
        "description": "utils.prompts",
        "isExtraImport": true,
        "detail": "utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_yes_no",
        "importPath": "utils.prompts",
        "description": "utils.prompts",
        "isExtraImport": true,
        "detail": "utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_yes_no",
        "importPath": "utils.prompts",
        "description": "utils.prompts",
        "isExtraImport": true,
        "detail": "utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_acknowledge",
        "importPath": "utils.prompts",
        "description": "utils.prompts",
        "isExtraImport": true,
        "detail": "utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_yes_no",
        "importPath": "utils.prompts",
        "description": "utils.prompts",
        "isExtraImport": true,
        "detail": "utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_choice",
        "importPath": "utils.prompts",
        "description": "utils.prompts",
        "isExtraImport": true,
        "detail": "utils.prompts",
        "documentation": {}
    },
    {
        "label": "run_command",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "run_command",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "AptManager",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "get_os_info",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "run_command",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "AptManager",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "cleanup_stale_nvidia_libraries",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "repair_nvidia_symlinks",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "run_command",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "run_command",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "AptManager",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "cleanup_nvidia_repos",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "cleanup_old_nvidia_drivers",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "full_nvidia_cleanup",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "check_internet",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "get_os_info",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "check_nvidia_gpu",
        "importPath": "utils.system",
        "description": "utils.system",
        "isExtraImport": true,
        "detail": "utils.system",
        "documentation": {}
    },
    {
        "label": "glob",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "glob",
        "description": "glob",
        "detail": "glob",
        "documentation": {}
    },
    {
        "label": "re",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "re",
        "description": "re",
        "detail": "re",
        "documentation": {}
    },
    {
        "label": "subprocess",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "subprocess",
        "description": "subprocess",
        "detail": "subprocess",
        "documentation": {}
    },
    {
        "label": "tempfile",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "tempfile",
        "description": "tempfile",
        "detail": "tempfile",
        "documentation": {}
    },
    {
        "label": "dataclass",
        "importPath": "dataclasses",
        "description": "dataclasses",
        "isExtraImport": true,
        "detail": "dataclasses",
        "documentation": {}
    },
    {
        "label": "field",
        "importPath": "dataclasses",
        "description": "dataclasses",
        "isExtraImport": true,
        "detail": "dataclasses",
        "documentation": {}
    },
    {
        "label": "Optional",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "sys",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "sys",
        "description": "sys",
        "detail": "sys",
        "documentation": {}
    },
    {
        "label": "datetime",
        "importPath": "datetime",
        "description": "datetime",
        "isExtraImport": true,
        "detail": "datetime",
        "documentation": {}
    },
    {
        "label": "traceback",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "traceback",
        "description": "traceback",
        "detail": "traceback",
        "documentation": {}
    },
    {
        "label": "run_preliminary_checks",
        "importPath": "system.checks",
        "description": "system.checks",
        "isExtraImport": true,
        "detail": "system.checks",
        "documentation": {}
    },
    {
        "label": "detect_existing_installations",
        "importPath": "system.checks",
        "description": "system.checks",
        "isExtraImport": true,
        "detail": "system.checks",
        "documentation": {}
    },
    {
        "label": "get_system_info",
        "importPath": "system.checks",
        "description": "system.checks",
        "isExtraImport": true,
        "detail": "system.checks",
        "documentation": {}
    },
    {
        "label": "display_system_info",
        "importPath": "system.checks",
        "description": "system.checks",
        "isExtraImport": true,
        "detail": "system.checks",
        "documentation": {}
    },
    {
        "label": "check_gpu_capabilities",
        "importPath": "system.checks",
        "description": "system.checks",
        "isExtraImport": true,
        "detail": "system.checks",
        "documentation": {}
    },
    {
        "label": "select_nvidia_driver",
        "importPath": "nvidia.drivers",
        "description": "nvidia.drivers",
        "isExtraImport": true,
        "detail": "nvidia.drivers",
        "documentation": {}
    },
    {
        "label": "select_cuda_version",
        "importPath": "nvidia.cuda",
        "description": "nvidia.cuda",
        "isExtraImport": true,
        "detail": "nvidia.cuda",
        "documentation": {}
    },
    {
        "label": "setup_docker",
        "importPath": "docker.setup",
        "description": "docker.setup",
        "isExtraImport": true,
        "detail": "docker.setup",
        "documentation": {}
    },
    {
        "label": "apply_nvidia_patches",
        "importPath": "nvidia.patches",
        "description": "nvidia.patches",
        "isExtraImport": true,
        "detail": "nvidia.patches",
        "documentation": {}
    },
    {
        "label": "configure_docker_for_media",
        "importPath": "docker.config",
        "description": "docker.config",
        "isExtraImport": true,
        "detail": "docker.config",
        "documentation": {}
    },
    {
        "label": "configure_docker_for_media",
        "kind": 2,
        "importPath": "src.docker.config",
        "description": "src.docker.config",
        "peekOfCode": "def configure_docker_for_media():\n    \"\"\"Configure Docker with optimized settings for NVIDIA media\"\"\"\n    log_step(\"Configuring Docker for media processing...\")\n    if not prompt_yes_no(\"Configure Docker with optimized settings for NVIDIA media?\"):\n        return\n    use_cgroupfs = prompt_yes_no(\n        \"Would you like to configure Docker to use cgroupfs driver? \"\n        \"(Fixes common 'CUDA_ERROR_NO_DEVICE' issues)\"\n    )\n    _create_docker_daemon_config(use_cgroupfs)",
        "detail": "src.docker.config",
        "documentation": {}
    },
    {
        "label": "setup_docker",
        "kind": 2,
        "importPath": "src.docker.setup",
        "description": "src.docker.setup",
        "peekOfCode": "def setup_docker():\n    \"\"\"Setup Docker with NVIDIA support\"\"\"\n    log_step(\"Setting up Docker with NVIDIA support...\")\n    _remove_existing_docker()\n    _install_docker_prerequisites()\n    _setup_docker_repository()\n    _install_docker_packages()\n    _start_docker_service()\n    _setup_nvidia_container_toolkit()\n    _install_docker_compose()",
        "detail": "src.docker.setup",
        "documentation": {}
    },
    {
        "label": "DOCKER_COMPOSE_VERSION",
        "kind": 5,
        "importPath": "src.docker.setup",
        "description": "src.docker.setup",
        "peekOfCode": "DOCKER_COMPOSE_VERSION = \"v2.25.0\"\ndef setup_docker():\n    \"\"\"Setup Docker with NVIDIA support\"\"\"\n    log_step(\"Setting up Docker with NVIDIA support...\")\n    _remove_existing_docker()\n    _install_docker_prerequisites()\n    _setup_docker_repository()\n    _install_docker_packages()\n    _start_docker_service()\n    _setup_nvidia_container_toolkit()",
        "detail": "src.docker.setup",
        "documentation": {}
    },
    {
        "label": "select_cuda_version",
        "kind": 2,
        "importPath": "src.nvidia.cuda",
        "description": "src.nvidia.cuda",
        "peekOfCode": "def select_cuda_version():\n    \"\"\"Select CUDA version for installation\"\"\"\n    log_step(\"CUDA Version Selection\")\n    cuda_versions = _load_cuda_versions()\n    log_info(\"This selection determines which CUDA version will be used in Docker containers.\")\n    log_info(\"It does not install CUDA on the host - that's handled by the NVIDIA driver.\\n\")\n    # Prepare choices for the menu\n    choices = []\n    for version, description in cuda_versions.items():\n        choices.append(f\"{version} - {description}\")",
        "detail": "src.nvidia.cuda",
        "documentation": {}
    },
    {
        "label": "get_cuda_compatibility_info",
        "kind": 2,
        "importPath": "src.nvidia.cuda",
        "description": "src.nvidia.cuda",
        "peekOfCode": "def get_cuda_compatibility_info(cuda_version):\n    \"\"\"Get compatibility information for CUDA version\"\"\"\n    compatibility_info = {\n        \"13.0.0\": {\n            \"min_driver\": \"570.86.15\",\n            \"features\": [\"Latest CUDA architecture\", \"RTX 50 series support\", \"Enhanced AI/ML performance\"]\n        },\n        \"12.8.0\": {\n            \"min_driver\": \"570.86.15\",\n            \"features\": [\"Recent CUDA features\", \"Broad GPU support\", \"Stable performance\"]",
        "detail": "src.nvidia.cuda",
        "documentation": {}
    },
    {
        "label": "select_nvidia_driver",
        "kind": 2,
        "importPath": "src.nvidia.drivers",
        "description": "src.nvidia.drivers",
        "peekOfCode": "def select_nvidia_driver():\n    \"\"\"Select and install NVIDIA driver\"\"\"\n    log_step(\"Selecting NVIDIA driver version...\")\n    # Check if drivers are already installed\n    current_driver = _check_existing_driver()\n    if current_driver:\n        _handle_existing_driver(current_driver)\n    else:\n        _install_new_driver()\n    _post_install_checks()",
        "detail": "src.nvidia.drivers",
        "documentation": {}
    },
    {
        "label": "_VERSION_PATTERN",
        "kind": 5,
        "importPath": "src.nvidia.drivers",
        "description": "src.nvidia.drivers",
        "peekOfCode": "_VERSION_PATTERN = re.compile(r'^[0-9]+\\.[0-9]+')\n_VERSION_MAJOR = re.compile(r'^[0-9]+$')\ndef select_nvidia_driver():\n    \"\"\"Select and install NVIDIA driver\"\"\"\n    log_step(\"Selecting NVIDIA driver version...\")\n    # Check if drivers are already installed\n    current_driver = _check_existing_driver()\n    if current_driver:\n        _handle_existing_driver(current_driver)\n    else:",
        "detail": "src.nvidia.drivers",
        "documentation": {}
    },
    {
        "label": "_VERSION_MAJOR",
        "kind": 5,
        "importPath": "src.nvidia.drivers",
        "description": "src.nvidia.drivers",
        "peekOfCode": "_VERSION_MAJOR = re.compile(r'^[0-9]+$')\ndef select_nvidia_driver():\n    \"\"\"Select and install NVIDIA driver\"\"\"\n    log_step(\"Selecting NVIDIA driver version...\")\n    # Check if drivers are already installed\n    current_driver = _check_existing_driver()\n    if current_driver:\n        _handle_existing_driver(current_driver)\n    else:\n        _install_new_driver()",
        "detail": "src.nvidia.drivers",
        "documentation": {}
    },
    {
        "label": "PatchVariant",
        "kind": 6,
        "importPath": "src.nvidia.patches",
        "description": "src.nvidia.patches",
        "peekOfCode": "class PatchVariant:\n    \"\"\"A single old -> new byte replacement at the patch site.\"\"\"\n    old_hex: str\n    new_hex: str\n    label: str\n@dataclass(frozen=True)\nclass AnchorPattern:\n    \"\"\"An anchor byte sequence and its associated patch variants.\"\"\"\n    anchor: str\n    skip: int",
        "detail": "src.nvidia.patches",
        "documentation": {}
    },
    {
        "label": "AnchorPattern",
        "kind": 6,
        "importPath": "src.nvidia.patches",
        "description": "src.nvidia.patches",
        "peekOfCode": "class AnchorPattern:\n    \"\"\"An anchor byte sequence and its associated patch variants.\"\"\"\n    anchor: str\n    skip: int\n    patched_marker: str\n    variants: list[PatchVariant] = field(default_factory=list)\n_ANCHORS: list[AnchorPattern] = [\n    # Variant A: result stored in R14D (mov r14d,eax = 41 89 c6)\n    # Used by 580.x+ drivers\n    AnchorPattern(",
        "detail": "src.nvidia.patches",
        "documentation": {}
    },
    {
        "label": "PatchResult",
        "kind": 6,
        "importPath": "src.nvidia.patches",
        "description": "src.nvidia.patches",
        "peekOfCode": "class PatchResult:\n    \"\"\"Result of a binary patch operation.\"\"\"\n    success: bool\n    already_patched: bool\n    variant_label: str\n    offset: int\n    message: str\n# ── Driver version detection ────────────────────────────────────────\ndef _detect_driver_version(manual_version: Optional[str] = None, verbose: bool = False) -> Optional[str]:\n    \"\"\"Detect the installed NVIDIA driver version using multiple fallback methods.",
        "detail": "src.nvidia.patches",
        "documentation": {}
    },
    {
        "label": "apply_nvidia_patches",
        "kind": 2,
        "importPath": "src.nvidia.patches",
        "description": "src.nvidia.patches",
        "peekOfCode": "def apply_nvidia_patches() -> None:\n    \"\"\"Apply NVIDIA patches for unlimited NVENC sessions\"\"\"\n    log_step(\"NVIDIA NVENC & NvFBC unlimited sessions patch...\")\n    if not prompt_yes_no(\"Would you like to patch NVIDIA drivers to remove NVENC session limit?\"):\n        return\n    _apply_nvenc_patch()\n    if prompt_yes_no(\"Would you also like to patch for NvFBC support (useful for OBS)?\"):\n        _apply_nvfbc_patch()\ndef _nvidia_smi_works() -> bool:\n    \"\"\"Check whether nvidia-smi can successfully query the driver.",
        "detail": "src.nvidia.patches",
        "documentation": {}
    },
    {
        "label": "_UPSTREAM_PATCH_COMMIT",
        "kind": 5,
        "importPath": "src.nvidia.patches",
        "description": "src.nvidia.patches",
        "peekOfCode": "_UPSTREAM_PATCH_COMMIT = \"2b16ade220d4\"\n# Regex that matches a valid NVIDIA driver version string (e.g. 580.126.09)\n_VERSION_PATTERN = re.compile(r'^[0-9]+\\.[0-9]+')\n# Backup directory for original libnvidia-encode.so files\n_BACKUP_DIR = \"/opt/nvidia/libnvidia-encode-backup\"\n# Standard library search paths (ordered by preference)\n_LIBRARY_SEARCH_PATHS: list[str] = [\n    \"/usr/lib/x86_64-linux-gnu\",\n    \"/usr/lib64\",\n    \"/usr/lib\",",
        "detail": "src.nvidia.patches",
        "documentation": {}
    },
    {
        "label": "_VERSION_PATTERN",
        "kind": 5,
        "importPath": "src.nvidia.patches",
        "description": "src.nvidia.patches",
        "peekOfCode": "_VERSION_PATTERN = re.compile(r'^[0-9]+\\.[0-9]+')\n# Backup directory for original libnvidia-encode.so files\n_BACKUP_DIR = \"/opt/nvidia/libnvidia-encode-backup\"\n# Standard library search paths (ordered by preference)\n_LIBRARY_SEARCH_PATHS: list[str] = [\n    \"/usr/lib/x86_64-linux-gnu\",\n    \"/usr/lib64\",\n    \"/usr/lib\",\n    \"/lib/x86_64-linux-gnu\",\n]",
        "detail": "src.nvidia.patches",
        "documentation": {}
    },
    {
        "label": "_BACKUP_DIR",
        "kind": 5,
        "importPath": "src.nvidia.patches",
        "description": "src.nvidia.patches",
        "peekOfCode": "_BACKUP_DIR = \"/opt/nvidia/libnvidia-encode-backup\"\n# Standard library search paths (ordered by preference)\n_LIBRARY_SEARCH_PATHS: list[str] = [\n    \"/usr/lib/x86_64-linux-gnu\",\n    \"/usr/lib64\",\n    \"/usr/lib\",\n    \"/lib/x86_64-linux-gnu\",\n]\n# ── Binary patch anchor definitions ─────────────────────────────────\n#",
        "detail": "src.nvidia.patches",
        "documentation": {}
    },
    {
        "label": "get_system_info",
        "kind": 2,
        "importPath": "src.system.checks",
        "description": "src.system.checks",
        "peekOfCode": "def get_system_info():\n    \"\"\"Gather comprehensive system information\"\"\"\n    info = {\n        'os': {},\n        'kernel': None,\n        'gpu': {},\n        'capabilities': {\n            'vulkan_supported': False,\n            'nvenc_supported': False,\n            'nvdec_supported': False,",
        "detail": "src.system.checks",
        "documentation": {}
    },
    {
        "label": "display_system_info",
        "kind": 2,
        "importPath": "src.system.checks",
        "description": "src.system.checks",
        "peekOfCode": "def display_system_info(info):\n    \"\"\"Display system information in a formatted way\"\"\"\n    print(\"\\n\" + \"=\" * 60)\n    print(\"                    SYSTEM INFORMATION\")\n    print(\"=\" * 60)\n    # OS Info\n    print(f\"\\n  Operating System: {info['os']['pretty_name']}\")\n    print(f\"  Kernel:           {info['kernel']}\")\n    # GPU Info\n    if info['gpu'].get('name') or info['gpu'].get('model'):",
        "detail": "src.system.checks",
        "documentation": {}
    },
    {
        "label": "run_preliminary_checks",
        "kind": 2,
        "importPath": "src.system.checks",
        "description": "src.system.checks",
        "peekOfCode": "def run_preliminary_checks():\n    \"\"\"Run all preliminary system checks\"\"\"\n    log_step(\"Running preliminary system checks...\")\n    _display_performance_recommendations()\n    _check_nvidia_gpu_present()\n    _offer_cleanup_option()\n    _check_ubuntu_version()\n    _install_dependencies()\n    _check_internet_connectivity()\ndef _display_performance_recommendations():",
        "detail": "src.system.checks",
        "documentation": {}
    },
    {
        "label": "detect_existing_installations",
        "kind": 2,
        "importPath": "src.system.checks",
        "description": "src.system.checks",
        "peekOfCode": "def detect_existing_installations():\n    \"\"\"Detect what's already installed on the system\"\"\"\n    installations = {\n        'nvidia_driver': {'installed': False, 'version': None},\n        'docker': {'installed': False, 'version': None},\n        'nvidia_runtime': {'installed': False, 'version': None},\n        'vulkan': {'installed': False, 'version': None}\n    }\n    # Check NVIDIA driver\n    try:",
        "detail": "src.system.checks",
        "documentation": {}
    },
    {
        "label": "check_gpu_capabilities",
        "kind": 2,
        "importPath": "src.system.checks",
        "description": "src.system.checks",
        "peekOfCode": "def check_gpu_capabilities():\n    \"\"\"Check GPU capabilities for media processing\"\"\"\n    log_step(\"Checking GPU capabilities for media processing...\")\n    try:\n        # Get GPU model\n        gpu_model = run_command(\n            \"nvidia-smi --query-gpu=gpu_name --format=csv,noheader\", \n            capture_output=True\n        )\n        log_info(f\"Detected GPU: {gpu_model}\")",
        "detail": "src.system.checks",
        "documentation": {}
    },
    {
        "label": "Colors",
        "kind": 6,
        "importPath": "src.utils.logging",
        "description": "src.utils.logging",
        "peekOfCode": "class Colors:\n    \"\"\"ANSI color codes for terminal output\"\"\"\n    RESET = '\\033[0m'\n    BOLD = '\\033[1m'\n    RED = '\\033[1;31m'\n    GREEN = '\\033[1;32m'\n    YELLOW = '\\033[1;33m'\n    BLUE = '\\033[1;34m'\n    CYAN = '\\033[1;36m'\ndef log_info(message):",
        "detail": "src.utils.logging",
        "documentation": {}
    },
    {
        "label": "log_info",
        "kind": 2,
        "importPath": "src.utils.logging",
        "description": "src.utils.logging",
        "peekOfCode": "def log_info(message):\n    \"\"\"Log info message in green\"\"\"\n    print(f\"{Colors.GREEN}[INFO]  {message}{Colors.RESET}\")\ndef log_warn(message):\n    \"\"\"Log warning message in yellow\"\"\"\n    print(f\"{Colors.YELLOW}[WARN]  {message}{Colors.RESET}\")\ndef log_error(message):\n    \"\"\"Log error message in red\"\"\"\n    print(f\"{Colors.RED}[ERROR] {message}{Colors.RESET}\")\ndef log_prompt(message):",
        "detail": "src.utils.logging",
        "documentation": {}
    },
    {
        "label": "log_warn",
        "kind": 2,
        "importPath": "src.utils.logging",
        "description": "src.utils.logging",
        "peekOfCode": "def log_warn(message):\n    \"\"\"Log warning message in yellow\"\"\"\n    print(f\"{Colors.YELLOW}[WARN]  {message}{Colors.RESET}\")\ndef log_error(message):\n    \"\"\"Log error message in red\"\"\"\n    print(f\"{Colors.RED}[ERROR] {message}{Colors.RESET}\")\ndef log_prompt(message):\n    \"\"\"Log prompt message in cyan\"\"\"\n    print(f\"{Colors.CYAN}[INPUT] {message}{Colors.RESET}\", end='')\ndef log_step(message):",
        "detail": "src.utils.logging",
        "documentation": {}
    },
    {
        "label": "log_error",
        "kind": 2,
        "importPath": "src.utils.logging",
        "description": "src.utils.logging",
        "peekOfCode": "def log_error(message):\n    \"\"\"Log error message in red\"\"\"\n    print(f\"{Colors.RED}[ERROR] {message}{Colors.RESET}\")\ndef log_prompt(message):\n    \"\"\"Log prompt message in cyan\"\"\"\n    print(f\"{Colors.CYAN}[INPUT] {message}{Colors.RESET}\", end='')\ndef log_step(message):\n    \"\"\"Log step message in blue with newline before\"\"\"\n    print(f\"\\n{Colors.BLUE}[STEP]  {message}{Colors.RESET}\")\ndef log_success(message):",
        "detail": "src.utils.logging",
        "documentation": {}
    },
    {
        "label": "log_prompt",
        "kind": 2,
        "importPath": "src.utils.logging",
        "description": "src.utils.logging",
        "peekOfCode": "def log_prompt(message):\n    \"\"\"Log prompt message in cyan\"\"\"\n    print(f\"{Colors.CYAN}[INPUT] {message}{Colors.RESET}\", end='')\ndef log_step(message):\n    \"\"\"Log step message in blue with newline before\"\"\"\n    print(f\"\\n{Colors.BLUE}[STEP]  {message}{Colors.RESET}\")\ndef log_success(message):\n    \"\"\"Log success message in bold green\"\"\"\n    print(f\"{Colors.BOLD}{Colors.GREEN}✓ {message}{Colors.RESET}\")",
        "detail": "src.utils.logging",
        "documentation": {}
    },
    {
        "label": "log_step",
        "kind": 2,
        "importPath": "src.utils.logging",
        "description": "src.utils.logging",
        "peekOfCode": "def log_step(message):\n    \"\"\"Log step message in blue with newline before\"\"\"\n    print(f\"\\n{Colors.BLUE}[STEP]  {message}{Colors.RESET}\")\ndef log_success(message):\n    \"\"\"Log success message in bold green\"\"\"\n    print(f\"{Colors.BOLD}{Colors.GREEN}✓ {message}{Colors.RESET}\")",
        "detail": "src.utils.logging",
        "documentation": {}
    },
    {
        "label": "log_success",
        "kind": 2,
        "importPath": "src.utils.logging",
        "description": "src.utils.logging",
        "peekOfCode": "def log_success(message):\n    \"\"\"Log success message in bold green\"\"\"\n    print(f\"{Colors.BOLD}{Colors.GREEN}✓ {message}{Colors.RESET}\")",
        "detail": "src.utils.logging",
        "documentation": {}
    },
    {
        "label": "prompt_yes_no",
        "kind": 2,
        "importPath": "src.utils.prompts",
        "description": "src.utils.prompts",
        "peekOfCode": "def prompt_yes_no(prompt, default='y'):\n    \"\"\"\n    Interactive yes/no prompt\n    Args:\n        prompt: Question to ask\n        default: Default answer ('y' or 'n')\n    Returns:\n        bool: True for yes, False for no\n    \"\"\"\n    while True:",
        "detail": "src.utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_choice",
        "kind": 2,
        "importPath": "src.utils.prompts",
        "description": "src.utils.prompts",
        "peekOfCode": "def prompt_choice(prompt, choices, default=None):\n    \"\"\"\n    Interactive multiple choice prompt\n    Args:\n        prompt: Question to ask\n        choices: List of choices\n        default: Default choice index (0-based)\n    Returns:\n        int: Index of selected choice\n    \"\"\"",
        "detail": "src.utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_input",
        "kind": 2,
        "importPath": "src.utils.prompts",
        "description": "src.utils.prompts",
        "peekOfCode": "def prompt_input(prompt, default=None, required=True):\n    \"\"\"\n    Interactive input prompt\n    Args:\n        prompt: Question to ask\n        default: Default value\n        required: Whether input is required\n    Returns:\n        str: User input or default\n    \"\"\"",
        "detail": "src.utils.prompts",
        "documentation": {}
    },
    {
        "label": "prompt_acknowledge",
        "kind": 2,
        "importPath": "src.utils.prompts",
        "description": "src.utils.prompts",
        "peekOfCode": "def prompt_acknowledge(message, required_response):\n    \"\"\"\n    Force user to type specific text to acknowledge\n    Args:\n        message: Message to display\n        required_response: Exact text user must type\n    \"\"\"\n    print(f\"\\n{message}\\n\")\n    while True:\n        log_prompt(f\"Type '{required_response}' to acknowledge: \")",
        "detail": "src.utils.prompts",
        "documentation": {}
    },
    {
        "label": "AptManager",
        "kind": 6,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "class AptManager:\n    \"\"\"Manages apt operations with caching\"\"\"\n    _update_done: bool = False\n    def update(self):\n        \"\"\"Update apt cache if not already done\"\"\"\n        if not AptManager._update_done:\n            run_command(\"apt-get update\")\n            AptManager._update_done = True\n    @classmethod\n    def reset_cache(cls):",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "run_command",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def run_command(cmd, shell=True, check=True, capture_output=False):\n    \"\"\"\n    Execute a system command with logging\n    Args:\n        cmd: Command to execute (string or list)\n        shell: Whether to use shell\n        check: Whether to raise exception on failure\n        capture_output: Whether to capture and return output\n    Returns:\n        CompletedProcess object or output string if capture_output=True",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "cleanup_nvidia_repos",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def cleanup_nvidia_repos():\n    \"\"\"Clean up stale NVIDIA repository and keyring files.\n    Only removes repo/keyring files that may conflict with fresh setup.\n    Does NOT touch installed driver packages - use cleanup_old_nvidia_drivers() for that.\n    \"\"\"\n    log_info(\"Cleaning up NVIDIA repository files...\")\n    # Repository files to remove\n    repo_files = [\n        \"/etc/apt/sources.list.d/nvidia-docker.list\",\n        \"/etc/apt/sources.list.d/nvidia-container-toolkit.list\",",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "cleanup_old_nvidia_drivers",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def cleanup_old_nvidia_drivers() -> bool:\n    \"\"\"Detect and remove old NVIDIA driver packages, keeping only the newest.\n    Queries dpkg for all installed nvidia-driver-XXX packages (including\n    -server variants and associated library packages), identifies the highest\n    version, and offers to purge all others.\n    Returns:\n        True if packages were removed, False otherwise.\n    \"\"\"\n    try:\n        result = subprocess.run(",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "get_running_driver_version",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def get_running_driver_version() -> str | None:\n    \"\"\"Get the currently running NVIDIA driver version from nvidia-smi.\n    Returns:\n        Full version string (e.g. '590.48.01') or None if not available.\n    \"\"\"\n    try:\n        output = subprocess.run(\n            \"nvidia-smi --query-gpu=driver_version --format=csv,noheader\",\n            shell=True, capture_output=True, text=True,\n        )",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "audit_nvidia_packages",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def audit_nvidia_packages(current_major: str | None = None) -> dict[str, list[tuple[str, str]]]:\n    \"\"\"Audit all installed NVIDIA packages and categorize them.\n    Dynamically detects the current driver major version and categorizes all\n    installed NVIDIA packages as CURRENT, OLD, or OTHER.  No versions are\n    hardcoded -- the running driver is detected via nvidia-smi.\n    Args:\n        current_major: Override for the current driver major version.\n            If None, auto-detected from nvidia-smi.\n    Returns:\n        Dict with keys 'current', 'old', 'other', each mapping to a list",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "audit_nvidia_repos",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def audit_nvidia_repos() -> dict[str, list[str]]:\n    \"\"\"Audit NVIDIA-related APT repository sources.\n    Checks /etc/apt/sources.list and /etc/apt/sources.list.d/ for any\n    NVIDIA repository entries.  Also queries apt-cache policy for the\n    current driver package.\n    Returns:\n        Dict with keys:\n            'sources_list_entries': lines from sources.list mentioning nvidia\n            'sources_list_d_files': files in sources.list.d referencing nvidia\n    \"\"\"",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "create_apt_pin_file",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def create_apt_pin_file(major_version: str, dry_run: bool = True) -> bool:\n    \"\"\"Create an APT preferences pin file to prevent NVIDIA driver upgrades.\n    Creates /etc/apt/preferences.d/nvidia-pin with Pin-Priority 1001 so that\n    only the current major version can be installed, blocking accidental\n    upgrades to a newer major version.\n    Args:\n        major_version: The driver major version to pin (e.g. '590').\n        dry_run: If True, only report what would be created.\n    Returns:\n        True if the pin file was created (or would be in dry-run).",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "manage_unattended_upgrades_blacklist",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def manage_unattended_upgrades_blacklist(dry_run: bool = True) -> bool:\n    \"\"\"Add NVIDIA packages to the unattended-upgrades blacklist.\n    Checks /etc/apt/apt.conf.d/50unattended-upgrades for existing NVIDIA\n    entries and adds them if missing.  Creates a timestamped backup before\n    modifying the file.\n    Args:\n        dry_run: If True, only report what would be done.\n    Returns:\n        True if NVIDIA is already blacklisted or was successfully added.\n    \"\"\"",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "verify_nvidia_cleanup_state",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def verify_nvidia_cleanup_state(dry_run: bool = True) -> dict[str, bool]:\n    \"\"\"Verify the final state of NVIDIA driver cleanup and pinning.\n    Shows installed packages, held packages, APT pin file status,\n    and unattended-upgrades blacklist status.\n    Args:\n        dry_run: Whether we are in dry-run mode (affects messaging).\n    Returns:\n        Dict with verification results:\n            'packages_ok': True if only current driver packages are installed\n            'holds_ok': True if packages are held",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "cleanup_stale_nvidia_libraries",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def cleanup_stale_nvidia_libraries(current_version: str, dry_run: bool = True) -> dict[str, list[str]]:\n    \"\"\"Find and remove NVIDIA shared libraries from old driver versions.\n    After driver upgrades, old versioned .so files (e.g. libnvidia-encode.so.565.57.01)\n    may remain on disk.  These confuse the dynamic linker and the NVIDIA container\n    runtime, causing NVENC failures inside Docker containers.\n    Args:\n        current_version: The running driver version to keep (e.g. '590.48.01').\n        dry_run: If True (default), only report findings without modifying anything.\n    Returns:\n        Dict with keys 'stale_files' and 'stale_symlinks' listing what was found/removed.",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "repair_nvidia_symlinks",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def repair_nvidia_symlinks(current_version: str, dry_run: bool = True) -> list[str]:\n    \"\"\"Ensure all NVIDIA .so.1 symlinks point to the current driver version.\n    For each known NVIDIA library, verifies that:\n      libXXX.so.1 -> libXXX.so.CURRENT_VERSION\n      libXXX.so   -> libXXX.so.1\n    Args:\n        current_version: The running driver version (e.g. '590.48.01').\n        dry_run: If True (default), only report problems without fixing.\n    Returns:\n        List of symlinks that were broken (and fixed if not dry_run).",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "pin_nvidia_driver_version",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def pin_nvidia_driver_version(major_version: str, dry_run: bool = False) -> bool:\n    \"\"\"Pin the current NVIDIA driver packages to prevent unattended upgrades.\n    Performs three layers of protection:\n    1. apt-mark hold on all installed NVIDIA packages for this major version\n    2. Creates /etc/apt/preferences.d/nvidia-pin with Pin-Priority 1001\n    3. Adds NVIDIA to unattended-upgrades blacklist (if configured)\n    Args:\n        major_version: The driver major version to pin (e.g. '590').\n        dry_run: If True, only report what would be done without making changes.\n    Returns:",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "full_nvidia_cleanup",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def full_nvidia_cleanup(dry_run: bool = True) -> bool:\n    \"\"\"Run comprehensive NVIDIA driver cleanup.\n    Orchestrates all cleanup steps:\n    1. Audit installed NVIDIA packages (categorize current/old/other)\n    2. Audit NVIDIA APT repository sources\n    3. Remove old driver APT packages\n    4. Remove stale versioned library files\n    5. Repair broken symlinks\n    6. Pin the current driver version (apt-mark hold + pin file + unattended-upgrades)\n    7. Verify final state",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "check_internet",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def check_internet():\n    \"\"\"Check internet connectivity\"\"\"\n    try:\n        run_command(\"ping -c 1 8.8.8.8\", capture_output=True)\n        return True\n    except Exception:\n        return False\ndef get_os_info():\n    \"\"\"Get OS information from /etc/os-release\"\"\"\n    try:",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "get_os_info",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def get_os_info():\n    \"\"\"Get OS information from /etc/os-release\"\"\"\n    try:\n        with open('/etc/os-release', 'r') as f:\n            lines = f.readlines()\n        info = {}\n        for line in lines:\n            if '=' in line:\n                key, value = line.strip().split('=', 1)\n                info[key] = value.strip('\"')",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "check_nvidia_gpu",
        "kind": 2,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "def check_nvidia_gpu():\n    \"\"\"Check if NVIDIA GPU is present\"\"\"\n    try:\n        output = run_command(\"lspci | grep -i nvidia\", capture_output=True, check=False)\n        return bool(output)\n    except Exception:\n        return False",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "_NVIDIA_LIB_DIRS",
        "kind": 5,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "_NVIDIA_LIB_DIRS = [\n    \"/usr/lib/x86_64-linux-gnu\",\n    \"/usr/lib64\",\n    \"/usr/lib/i386-linux-gnu\",\n    \"/usr/lib\",\n    \"/lib/x86_64-linux-gnu\",\n    \"/lib\",\n]\n# NVIDIA library base names (without .so suffix) that may have versioned copies\n_NVIDIA_LIB_BASES = [",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "_NVIDIA_LIB_BASES",
        "kind": 5,
        "importPath": "src.utils.system",
        "description": "src.utils.system",
        "peekOfCode": "_NVIDIA_LIB_BASES = [\n    \"libnvidia-encode\", \"libnvidia-decode\", \"libnvidia-fbc\",\n    \"libnvidia-ml\", \"libnvidia-opencl\", \"libnvidia-opticalflow\",\n    \"libnvidia-ptxjitcompiler\", \"libnvidia-allocator\", \"libnvidia-cfg\",\n    \"libnvidia-glcore\", \"libnvidia-glsi\", \"libnvidia-glvkspirv\",\n    \"libnvidia-gpucomp\", \"libnvidia-tls\", \"libnvidia-nvvm\",\n    \"libnvidia-ngx\", \"libnvidia-api\", \"libnvidia-vulkan-producer\",\n    \"libcuda\", \"libcudadebugger\", \"libnvcuvid\",\n]\ndef cleanup_stale_nvidia_libraries(current_version: str, dry_run: bool = True) -> dict[str, list[str]]:",
        "detail": "src.utils.system",
        "documentation": {}
    },
    {
        "label": "show_banner",
        "kind": 2,
        "importPath": "main",
        "description": "main",
        "peekOfCode": "def show_banner():\n    \"\"\"Display application banner\"\"\"\n    banner = \"\"\"\n╔══════════════════════════════════════════════════════════════╗\n║                NVIDIA Docker Setup - Python                  ║\n║          Hardware Acceleration for Media Servers            ║\n╚══════════════════════════════════════════════════════════════╝\n\"\"\"\n    print(banner)\ndef show_main_menu(installations, system_info=None):",
        "detail": "main",
        "documentation": {}
    },
    {
        "label": "show_main_menu",
        "kind": 2,
        "importPath": "main",
        "description": "main",
        "peekOfCode": "def show_main_menu(installations, system_info=None):\n    \"\"\"Show main installation menu based on detected installations\"\"\"\n    log_step(\"Installation Options\")\n    options = []\n    descriptions = []\n    # NVIDIA Drivers\n    if installations['nvidia_driver']['installed']:\n        nvidia_text = f\"Reinstall NVIDIA Drivers (Current: {installations['nvidia_driver']['version']})\"\n        nvidia_desc = \"Reinstall or update NVIDIA drivers\"\n    else:",
        "detail": "main",
        "documentation": {}
    },
    {
        "label": "handle_menu_selection",
        "kind": 2,
        "importPath": "main",
        "description": "main",
        "peekOfCode": "def handle_menu_selection(choice, installations):\n    \"\"\"Handle the selected menu option\"\"\"\n    if choice == 0:  # NVIDIA Drivers\n        if installations['nvidia_driver']['installed']:\n            if prompt_yes_no(f\"NVIDIA driver {installations['nvidia_driver']['version']} is installed. Reinstall?\"):\n                select_nvidia_driver()\n        else:\n            select_nvidia_driver()\n    elif choice == 1:  # Docker\n        if installations['docker']['installed']:",
        "detail": "main",
        "documentation": {}
    },
    {
        "label": "run_complete_installation",
        "kind": 2,
        "importPath": "main",
        "description": "main",
        "peekOfCode": "def run_complete_installation(installations):\n    \"\"\"Run complete installation process\"\"\"\n    log_step(\"Running Complete Installation\")\n    # Install/reinstall NVIDIA drivers if needed\n    if not installations['nvidia_driver']['installed'] or prompt_yes_no(\"Reinstall NVIDIA drivers?\"):\n        select_nvidia_driver()\n    # Select CUDA version\n    cuda_version = select_cuda_version()\n    # Install/reconfigure Docker\n    if not installations['docker']['installed'] or prompt_yes_no(\"Reconfigure Docker?\"):",
        "detail": "main",
        "documentation": {}
    },
    {
        "label": "show_post_installation_summary",
        "kind": 2,
        "importPath": "main",
        "description": "main",
        "peekOfCode": "def show_post_installation_summary():\n    \"\"\"Show post-installation summary and next steps\"\"\"\n    log_success(\"Installation completed successfully!\")\n    summary = \"\"\"\n======================================================================\n                       Installation Summary\n======================================================================\nNext Steps:\n1. Reboot your system for all changes to take effect\n2. Test NVIDIA Docker integration:",
        "detail": "main",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "main",
        "description": "main",
        "peekOfCode": "def main():\n    \"\"\"Main installation process\"\"\"\n    try:\n        # Check if running as root\n        if os.geteuid() != 0:\n            log_error(\"This script must be run as root (sudo).\")\n            sys.exit(1)\n        show_banner()\n        # Gather and display system information first\n        log_step(\"Gathering System Information\")",
        "detail": "main",
        "documentation": {}
    }
]